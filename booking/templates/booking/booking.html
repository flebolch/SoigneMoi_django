{% load static %}
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hopital SoigneMoi</title>

  <!-- custom javascript -->
  <script src="{% static '/js/jquery.min.js' %}"></script>
  <script src="{% static '/js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>

  <!-- custom css -->
  <link rel="stylesheet" href="{% static '/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static '/css/style.css' %}">


  <link rel="icon" type="image/x-icon" href="{% static '/elements/logo/soignemoi-favicon-color.ico' %}">
</head>

<body>
  <script src="{% static 'js/script.js' %}"></script>

  {% load i18n %}
  {% block content %}

  <!-- take an appoinment start -->

  <h1 class="text-center">Prendre un rendez-vous</h1>


  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <form action="{% url 'prendre-rendez-vous' %}" method="POST" class="form-outline mb-4 ">
            {% csrf_token %}
            <div class="card-header">
              <h3>Bonjour {{ patient }}, remplissez le formulaire suivant pour créer un nouveau séjour :</h3>
            </div>
            <div name="selectService">

              <div class="form-group validate my-2 mx-2">
                <p>Sélectionnez le service dans lequelle vous souhaitez séjourner :</p>
                
                <select class="form-select" aria-label="Select Service" name="service">
                  <option value="">Choisir un service</option>
                  {% for service in services %}
                  <option value="{{ service.id }}">{{ service.name }}</option>
                  {% endfor %}
                </select>
                <p class="text-danger" id="selectServiceErrorMessage" name="selectServiceErrorMessage" hidden></p>
              </div>
            </div>
              
            <div name="selectInterventionAndDoctor">

              <div class="d-flex flex-column flex-lg-row justify-content-evenly">
                
                <div class=" form-group validate my-2 mx-2">
                  <p>Sélectionnez le type de soin :</p>
                  <select class="form-select" aria-label="Select Service" name="intervention" disabled="True">
                    <option value="">Choisir une intervention</option>
                    {% for intervention in interventions %}
                    <option value="{{ intervention.id }}">{{ intervention.name }} 
                    </option>
                  {% endfor %}
                </select>
                <p class="text-danger" id="selectInterventionErrorMessage" name="selectInterventionErrorMessage" hidden></p>
              </div>
              
              <div class=" form-group validate my-2 mx-2">
                <p>Sélectionnez le médecin :</p>
                <select class="form-select" aria-label="Select Service" name="doctor" disabled="True">
                  <option value="">Médecin souhaité</option>
                  {% for doctor in doctors %}
                  <option value="{{ doctor.id }}">{{ doctor.doctorFullName }} - {{ doctor.speciality }}
                  </option>
                  {% endfor %}
                </select>
                <p class="text-danger" id="selectDoctorErrorMessage" name="selectDoctorErrorMessage" hidden></p>
              </div>
              
            </div>
          </div>
            
            <div name='dates_validation'>

              <div class="d-flex flex-column flex-lg-row justify-content-evenly">
                <div class="form-group my-2 mx-2">
                  <p>Date de début de séjour :</p>
                  <input type="date" class="form-control" name="dateStart" placeholder="Date de début de séjour">
                  <p class="text-danger" id="dateStartErroMessage" name="dateStartErroMessage" hidden></p>
                </div>
        
                <div class="form-group my-2 mx-2">
                  <p>Date de fin de séjour :</p>
                  <input type="date" class="form-control" name="dateStop" placeholder="Date de début de séjour">
                  <p class="text-danger" id="dateStopErroMessage" name="dateStopErroMessage" hidden></p>
                </div>
        
              </div>
                <div class="d-flex flex-column flex-lg-row justify-content-evenly">
                  
                  <div class="form-group my-2 mx-2">
                      <button type="button" class="btn btn-primary" name="submitDateStopAndStart">Vérifier les disponibilités</button>
                  </div>

                  
                </div>
                
                <div name="appoinmentValidation" hidden>

                  <hr>
                  <div class="d-flex flex-column flex-lg-row justify-content-center my-2 mx-2" name=bookingValidation>
                    <p class="text-info" name="validation"></p> 
                    <br>
                    <button type="button" class="btn btn-success" name="submitAppointment">Valider mon séjour</button>
                  </div>
                </div>
                  
                  
                  
            </div>
            

          </form>
        </div>
      </div>
    </div>

  </div>


  <!-- take an appoinment stop -->

  {% endblock content %}